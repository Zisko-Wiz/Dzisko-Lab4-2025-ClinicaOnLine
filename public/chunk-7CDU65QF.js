import{l as k,n as p}from"./chunk-4XUN7VXY.js";import"./chunk-LJ5XHLMQ.js";import{Aa as y,C as v,Ca as O,Da as E,F as h,I as S,J as C,Ra as r,Sa as M,_ as b,ca as c,fa as l,ka as d,qa as _,qb as w,ra as x,rb as I,wa as n,xa as o,ya as a}from"./chunk-NKZF7QRB.js";import{h as f}from"./chunk-FK42CRUA.js";var u=class i{constructor(e){this.supaService=e}isLogged=!1;user;emitter=new d;getUser(){this.supaService.supabase.auth.getUser().then(({data:e})=>{e.user!=null?(this.user=e.user,this.isLogged=!0,this.emitter.emit(e.user)):(this.isLogged=!1,this.emitter.emit(void 0))})}static \u0275fac=function(t){return new(t||i)(h(p))};static \u0275prov=v({token:i,factory:i.\u0275fac,providedIn:"root"})};function L(i,e){if(i&1){let t=y();n(0,"li",2)(1,"button",3),O("click",function(){S(t);let g=E();return C(g.logOut())}),r(2,"Salir"),o()(),n(3,"li",2)(4,"button"),r(5,"Mi Perfil"),o()()}}function B(i,e){i&1&&(n(0,"li",2)(1,"button",4),r(2,"Ingresar"),o()(),n(3,"li",2)(4,"button",5),r(5,"Registrarse"),o()())}var m=class i{constructor(e,t,s){this.router=e;this.supa=t;this.signInService=s}ingreso=!1;mensajeBienvenida="Bienvenido a la Cl\xEDnica OnLine";subscription;logginEmmiter=new d;ngOnInit(){this.getUser(),this.signInService.getUser()}ngOnDestroy(){this.subscription.unsubscribe()}logOut(){return f(this,null,function*(){this.supa.supabase.auth.signOut().then(({error:e})=>{e?console.error("Error: ",e.message):(this.signInService.getUser(),this.ingreso=!1,this.mensajeBienvenida="")})})}getUser(){this.subscription=this.signInService.emitter.subscribe({next:e=>{e!=null&&(this.ingreso=!0)}})}setWelcomeMessage(){return f(this,null,function*(){if(this.signInService.user!=null){let{data:e,error:t}=yield this.supa.supabase.from("users").select("nickname").eq("uid",this.signInService.user?.id),s=e[0].nickname,g=s[0].toUpperCase()+s.slice(1);this.mensajeBienvenida="Bienvenido "+g}})}static \u0275fac=function(t){return new(t||i)(c(w),c(p),c(u))};static \u0275cmp=l({type:i,selectors:[["app-header"]],decls:12,vars:2,consts:[[1,"container"],["src","hospital.png","alt","logo",1,"logo",2,"float","left"],[2,"float","right"],[3,"click"],["routerLink","/ingreso"],["routerLink","/registro"]],template:function(t,s){t&1&&(n(0,"div",0)(1,"ul")(2,"li"),a(3,"img",1),o(),n(4,"li")(5,"button"),r(6,"P\xE1gina principal"),o()(),n(7,"li")(8,"h1"),r(9),o()(),_(10,L,6,0)(11,B,6,0),o()()),t&2&&(b(9),M(s.mensajeBienvenida),b(),x(s.ingreso?10:11))},dependencies:[k,I],styles:[".container[_ngcontent-%COMP%]{position:sticky;top:0;z-index:5000}ul[_ngcontent-%COMP%]{list-style-type:none;margin:0;padding:0;overflow:hidden;background-color:#333}li[_ngcontent-%COMP%]{float:left}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block;color:#21c4b6;background-color:#333;text-align:center;padding:2vh 5vi;text-decoration:none;border:none}li[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#111}li[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{display:block;color:#21c4b6;font-size:100%;text-align:center;padding-top:2vh;margin:0}.logo[_ngcontent-%COMP%]{object-fit:contain;width:100%;height:6vh;-webkit-user-select:none;user-select:none}"]})};var j=class i{static \u0275fac=function(t){return new(t||i)};static \u0275cmp=l({type:i,selectors:[["app-home"]],decls:7,vars:0,consts:[[1,"container"],[1,"main-content"],["id","building","src","building.jpg"],[1,"msg"]],template:function(t,s){t&1&&(a(0,"app-header"),n(1,"div",0)(2,"div",1),a(3,"img",2),n(4,"div",3)(5,"p"),r(6,"La Cl\xEDnica OnLine, especialista en salud, cuenta actualmente con 6 consultorios, dos laboratorios f\xEDsicos en la cl\xEDnica, y una sala de espera general. Est\xE1 abierta al p\xFAblico de lunes a viernes de 8:00 a 19:00, y los s\xE1bados de 8:00 a 14:00. En ella trabajan profesionales de diversas especialidades, que ocupan los consultorios acorde a su disponibilidad, recibiendo pacientes con turno para consulta o tratamiento. "),o()()()())},dependencies:[m],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center;width:100%;height:100%;margin:0}.main-content[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-self:flex-start}.msg[_ngcontent-%COMP%]{background-color:#418dcb;color:#fff;width:20vw;padding-left:2vw;padding-right:2vw;padding-top:1vh;padding-bottom:1vh}#building[_ngcontent-%COMP%]{height:70vh;aspect-ratio:auto}"]})};export{j as Home};
