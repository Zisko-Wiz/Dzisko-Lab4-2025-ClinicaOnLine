import{c as i}from"./chunk-73SUT4MQ.js";import{a as g}from"./chunk-6T6KKZPT.js";import"./chunk-X5YLR3NI.js";import{I as y}from"./chunk-OQI5TMSC.js";import"./chunk-AULLATG4.js";import{Da as p,Hb as v,Oa as l,X as c,hb as u,ib as n,jb as d,kb as m,sb as h,xb as C,yb as b,zb as f}from"./chunk-RZXA2LSZ.js";import{i as s}from"./chunk-ODN5LVDJ.js";var S=class o{chart;supaService=c(g);dataSource=[{especialidad:"algo",turnos:10}];barChartOptions={scales:{x:{},y:{min:10}},plugins:{legend:{display:!0}}};barChartType="bar";barChartData={labels:this.dataSource.map(e=>e.especialidad),datasets:[{label:"Turnos",data:this.dataSource.map(e=>e.turnos)}]};ngOnInit(){this.getTurnos()}getTurnos(){return s(this,null,function*(){return this.supaService.supabase.from("turnos").select(`
      turnos:count(),
      especialidad
      `).then(({data:e,error:t})=>{t?console.log(t.message):(this.dataSource=e,this.chart?.update())})})}chartClicked({event:e,active:t}){console.log(e,t)}chartHovered({event:e,active:t}){console.log(e,t)}randomize(){this.chart?.ngOnChanges({}),this.chart?.update()}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=l({type:o,selectors:[["app-bar-chart"]],viewQuery:function(t,a){if(t&1&&C(i,5),t&2){let r;b(r=f())&&(a.chart=r.first)}},decls:4,vars:3,consts:[[1,"container"],["baseChart","",3,"data","options","type"],["mat-button","","mat-raised-button","","color","primary",3,"click"]],template:function(t,a){t&1&&(n(0,"div",0),m(1,"canvas",1),n(2,"button",2),h("click",function(){return a.randomize()}),v(3," Update "),d()()),t&2&&(p(),u("data",a.barChartData)("options",a.barChartOptions)("type",a.barChartType))},dependencies:[y,i],styles:[".container[_ngcontent-%COMP%]{background-color:#fff}"]})};export{S as BarChartComponent};
