import{a as T,b as F,c as M,d as E,e as j,f as P}from"./chunk-VATLG3DC.js";import{a as B,b as U}from"./chunk-HVGWXOVX.js";import{a as R,d as D}from"./chunk-E3NOVVMW.js";import{b as _,c as l,e as h,f as v,g as I,i as w,k as O,l as X,m as Y,n as z,o as L}from"./chunk-SDPJNVPD.js";import{a as x}from"./chunk-6T6KKZPT.js";import"./chunk-X5YLR3NI.js";import{I as S,J as C}from"./chunk-OQI5TMSC.js";import{f as u,g as y}from"./chunk-NYLRLJZA.js";import"./chunk-AULLATG4.js";import{Da as s,Hb as i,Oa as g,X as p,bb as m,cb as f,hb as k,ib as t,jb as a,kb as b,sb as d}from"./chunk-RZXA2LSZ.js";import"./chunk-ODN5LVDJ.js";function N(n,r){n&1&&(t(0,"p",6),i(1,"*Correo o contrase\xF1a inv\xE1lidos"),a())}function q(n,r){n&1&&(t(0,"p",6),i(1,"*Cuenta no aprobada por administrador"),a())}function A(n,r){n&1&&(t(0,"p",6),i(1,"*Correo no confirmado"),a())}function G(n,r){n&1&&(t(0,"mat-error"),i(1,"Correo electr\xF3nico es "),t(2,"strong"),i(3,"obligatorio"),a()())}function Z(n,r){n&1&&(t(0,"mat-error"),i(1,"Correo electr\xF3nico "),t(2,"strong"),i(3,"inv\xE1lido"),a()())}function H(n,r){n&1&&(t(0,"mat-error"),i(1,"Contrase\xF1a es "),t(2,"strong"),i(3,"obligatoria"),a()())}function W(n,r){n&1&&(t(0,"mat-error"),i(1,"La contrase\xF1a debe tener m\xEDnimo 6 car\xE1cteres"),a())}var V=class n{supabaseService=p(x);router=p(u);error=!0;errorInvalido=!1;errorNoConfirmado=!1;verificated=null;loginForm=new I({email:new w("",[l.required,l.email]),password:new w("",[l.required,l.minLength(6)])});ngOnInit(){}getVerification(){this.supabaseService.supabase.from("users").select("verification").eq("email",this.loginForm.get("email")?.value).then(({data:r,error:o})=>{o?(console.log(o.message),console.log(o.code)):(this.verificated=r[0].verification,r[0].verification&&this.login())})}login(){this.supabaseService.supabase.auth.signInWithPassword({email:this.loginForm.get("email")?.value,password:this.loginForm.get("password")?.value}).then(({data:r,error:o})=>{if(this.errorInvalido=!1,this.errorNoConfirmado=!1,o)switch(console.log(o.code),o.code){case"email_not_confirmed":this.errorNoConfirmado=!0;break;default:break;case"invalid_credentials":this.errorInvalido=!0;break}else this.supabaseService.supabase.from("ingresos").insert([{usuario:r.user.email}]).then(({error:e})=>{e==null&&this.router.navigate(["/home"])})})}autofill(r){switch(r){case 1:this.loginForm.controls.email.setValue("gijozy@cyclelove.cc"),this.loginForm.controls.password.setValue("555555");break;case 2:this.loginForm.controls.email.setValue("nadoho1971@coasah.com"),this.loginForm.controls.password.setValue("666666");break;case 3:this.loginForm.controls.email.setValue("hulyne@forexzig.com"),this.loginForm.controls.password.setValue("777777");break;case 4:this.loginForm.controls.email.setValue("sibid45934@decodewp.com"),this.loginForm.controls.password.setValue("222222");break;case 5:this.loginForm.controls.email.setValue("zepafupi@fxzig.com"),this.loginForm.controls.password.setValue("333333");break;case 6:this.loginForm.controls.email.setValue("gagikah800@decodewp.com"),this.loginForm.controls.password.setValue("111111");break}this.loginForm.updateValueAndValidity()}ingresar(){this.getVerification()}static \u0275fac=function(o){return new(o||n)};static \u0275cmp=g({type:n,selectors:[["app-login"]],decls:35,vars:9,consts:[[1,"container"],[1,"animate__animated","animate__backInDown",3,"ngSubmit","formGroup"],[1,"form-card"],[1,"row2"],["src","hospital.png",1,"logo"],[1,"col"],[1,"error"],[1,"full-width"],["matInput","","placeholder","Correo electr\xF3nico","formControlName","email"],["matInput","","type","password","placeholder","Contrase\xF1a","formControlName","password"],["type","button","id","cancel-btn","matButton","elevated","routerLink","/home"],[1,"submit-div"],["matButton","elevated","color","primary","type","submit",3,"disabled"],[1,"quick-acces"],["src","https://gehbvrlfgpqxvzcleahc.supabase.co/storage/v1/object/public/profile-pictures//gijozy-1",1,"img-btn",3,"click"],["src","https://gehbvrlfgpqxvzcleahc.supabase.co/storage/v1/object/public/profile-pictures//nadoho1971-1",1,"img-btn",3,"click"],["src","https://gehbvrlfgpqxvzcleahc.supabase.co/storage/v1/object/public/profile-pictures//hulyne-1",1,"img-btn",3,"click"],["src","https://gehbvrlfgpqxvzcleahc.supabase.co/storage/v1/object/public/profile-pictures//sibid45934-1",1,"img-btn",3,"click"],["src","https://gehbvrlfgpqxvzcleahc.supabase.co/storage/v1/object/public/profile-pictures//zepafupi-1",1,"img-btn",3,"click"],["src","https://gehbvrlfgpqxvzcleahc.supabase.co/storage/v1/object/public/profile-pictures//gagikah800-1",1,"img-btn",3,"click"]],template:function(o,e){o&1&&(t(0,"div",0)(1,"form",1),d("ngSubmit",function(){return e.ingresar()}),t(2,"mat-card",2)(3,"mat-card-header")(4,"mat-card-title"),i(5,"Ingresar"),a()(),t(6,"div",3),b(7,"img",4),a(),t(8,"mat-card-content")(9,"div",5),m(10,N,2,0,"p",6),m(11,q,2,0,"p",6),m(12,A,2,0,"p",6),t(13,"mat-form-field",7),b(14,"input",8),m(15,G,4,0,"mat-error"),m(16,Z,4,0,"mat-error"),a()(),t(17,"div",5)(18,"mat-form-field",7),b(19,"input",9),m(20,H,4,0,"mat-error"),m(21,W,2,0,"mat-error"),a()()(),t(22,"div",3)(23,"button",10),i(24,"Cancelar"),a(),t(25,"mat-card-actions",11)(26,"button",12),i(27,"Ingresar"),a()()()()()(),t(28,"div",13)(29,"img",14),d("click",function(){return e.autofill(1)}),a(),t(30,"img",15),d("click",function(){return e.autofill(2)}),a(),t(31,"img",16),d("click",function(){return e.autofill(3)}),a(),t(32,"img",17),d("click",function(){return e.autofill(4)}),a(),t(33,"img",18),d("click",function(){return e.autofill(5)}),a(),t(34,"img",19),d("click",function(){return e.autofill(6)}),a()()),o&2&&(s(),k("formGroup",e.loginForm),s(9),f(e.errorInvalido?10:-1),s(),f(e.verificated==!1?11:-1),s(),f(e.errorNoConfirmado?12:-1),s(3),f(e.loginForm.controls.email.hasError("required")?15:-1),s(),f(e.loginForm.controls.email.hasError("email")?16:-1),s(4),f(e.loginForm.controls.password.hasError("required")?20:-1),s(),f(e.loginForm.controls.password.hasError("minlength")?21:-1),s(5),k("disabled",!e.loginForm.valid))},dependencies:[U,B,D,R,C,S,P,T,E,M,j,F,L,O,_,h,v,X,Y,y,z],styles:[".full-width[_ngcontent-%COMP%]{width:100%}.form-card[_ngcontent-%COMP%]{min-width:120px;margin:20px auto;width:70vw}.mat-radio-button[_ngcontent-%COMP%]{display:block;margin:5px 0}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row}.col[_ngcontent-%COMP%]{flex:1;margin-right:20px}.col[_ngcontent-%COMP%]:last-child{margin-right:0}.submit-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}#cancel-btn[_ngcontent-%COMP%]{width:8%}.row2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;align-content:center;padding-top:5vh}.logo[_ngcontent-%COMP%]{width:20vw;aspect-ratio:auto;margin-bottom:2vh}.error[_ngcontent-%COMP%]{color:red}.quick-acces[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;align-items:center}.img-btn[_ngcontent-%COMP%]{width:10vw}"]})};export{V as Login};
