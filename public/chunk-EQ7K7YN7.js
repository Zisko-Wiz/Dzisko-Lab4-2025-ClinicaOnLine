import{a as ze}from"./chunk-4HDWFXB7.js";import"./chunk-FK6H3RFT.js";import{c as Q}from"./chunk-V5D6QXZY.js";import"./chunk-MS4AQ6UA.js";import{a as Pe,j as Z,k as Be,l as De,m as W,o as Ve,q as Oe,r as Re,v as je,w as Le}from"./chunk-NVNTWJJS.js";import{a as He,b as Ne}from"./chunk-JEX352U2.js";import{a as Ie}from"./chunk-DGLVMMBZ.js";import{a as ve}from"./chunk-UX76GUPX.js";import"./chunk-SENEU3FL.js";import{f as be,g as ge,h as xe,j as y,l as Ce,m as ke,n as Se,o as ye,p as we}from"./chunk-7XGRIRYV.js";import{a as _e}from"./chunk-3FX5JOZC.js";import"./chunk-X5YLR3NI.js";import{j as R,k as U}from"./chunk-K6BGC66R.js";import{A as Me,B as G,g as Ee,o as Fe,q as Ae,s as Te}from"./chunk-TMRG5LEW.js";import"./chunk-5M3LTLOJ.js";import{a as $e}from"./chunk-S7KPDAQS.js";import"./chunk-IJ5UICPQ.js";import"./chunk-SLRTFQNB.js";import{Ba as L,Da as l,Eb as ce,Fa as ne,Fb as me,Hb as c,Ib as x,Jb as I,Kb as de,Lb as pe,Mb as ue,N as Y,Nb as he,Oa as B,Ob as q,Qa as O,S as ee,Sa as ae,Ta as re,V as j,Wa as oe,X as p,Xa as H,aa as f,ab as se,ba as _,bb as C,cb as k,db as le,ea as P,eb as S,f as F,fa as te,fb as b,fc as fe,gb as g,hb as u,ib as o,jb as r,k as J,kb as w,ob as A,sa as ie,sb as v,tb as m,xb as N,yb as $,zb as z}from"./chunk-VLVEKFRY.js";import{a as T,i as V}from"./chunk-ODN5LVDJ.js";function Ke(i,a){if(i&1){let e=A();o(0,"div",1)(1,"button",2),v("click",function(){f(e);let n=m();return _(n.action())}),c(2),r()()}if(i&2){let e=m();l(2),I(" ",e.data.action," ")}}var Xe=["label"];function Je(i,a){}var Ye=Math.pow(2,31)-1,D=class{_overlayRef;instance;containerInstance;_afterDismissed=new F;_afterOpened=new F;_onAction=new F;_durationTimeoutId;_dismissedByAction=!1;constructor(a,e){this._overlayRef=e,this.containerInstance=a,a._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(a){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(a,Ye))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},qe=new j("MatSnackBarData"),M=class{politeness="polite";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},et=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=O({type:i,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return i})(),tt=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=O({type:i,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return i})(),it=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=O({type:i,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return i})(),nt=(()=>{class i{snackBarRef=p(D);data=p(qe);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=B({type:i,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["matButton","","matSnackBarAction","",3,"click"]],template:function(t,n){t&1&&(o(0,"div",0),c(1),r(),C(2,Ke,3,1,"div",1)),t&2&&(l(),I(" ",n.data.message,`
`),l(),k(n.hasAction?2:-1))},dependencies:[R,et,tt,it],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return i})(),K="_mat-snack-bar-enter",X="_mat-snack-bar-exit",at=(()=>{class i extends De{_ngZone=p(oe);_elementRef=p(ie);_changeDetectorRef=p(fe);_platform=p(Ee);_animationsDisabled=G();snackBarConfig=p(M);_document=p(te);_trackedModals=new Set;_enterFallback;_exitFallback;_injector=p(P);_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new F;_onExit=new F;_onEnter=new F;_animationState="void";_live;_label;_role;_liveElementId=p(Te).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),t}attachTemplatePortal(e){this._assertNotAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),t}attachDomPortal=e=>{this._assertNotAttached();let t=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),t};onAnimationEnd(e){e===X?this._completeExit():e===K&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?H(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(K)))},{injector:this._injector}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(K)},200)))}exit(){return this._destroyed?J(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?H(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(X)))},{injector:this._injector}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(X),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,t=this.snackBarConfig.panelClass;t&&(Array.isArray(t)?t.forEach(d=>e.classList.add(d)):e.classList.add(t)),this._exposeToModals();let n=this._label.nativeElement,s="mdc-snackbar__label";n.classList.toggle(s,!n.querySelector(`.${s}`))}_exposeToModals(){let e=this._liveElementId,t=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let n=0;n<t.length;n++){let s=t[n],d=s.getAttribute("aria-owns");this._trackedModals.add(s),d?d.indexOf(e)===-1&&s.setAttribute("aria-owns",d+" "+e):s.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let t=e.getAttribute("aria-owns");if(t){let n=t.replace(this._liveElementId,"").trim();n.length>0?e.setAttribute("aria-owns",n):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,t=e.querySelector("[aria-hidden]"),n=e.querySelector("[aria-live]");if(t&&n){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(s=document.activeElement),t.removeAttribute("aria-hidden"),n.appendChild(t),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=B({type:i,selectors:[["mat-snack-bar-container"]],viewQuery:function(t,n){if(t&1&&(N(W,7),N(Xe,7)),t&2){let s;$(s=z())&&(n._portalOutlet=s.first),$(s=z())&&(n._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(t,n){t&1&&v("animationend",function(d){return n.onAnimationEnd(d.animationName)})("animationcancel",function(d){return n.onAnimationEnd(d.animationName)}),t&2&&me("mat-snack-bar-container-enter",n._animationState==="visible")("mat-snack-bar-container-exit",n._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!n._animationsDisabled)},features:[ae],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,n){t&1&&(o(0,"div",1)(1,"div",2,0)(3,"div",3),re(4,Je,0,0,"ng-template",4),r(),w(5,"div"),r()()),t&2&&(l(5),se("aria-live",n._live)("role",n._role)("id",n._liveElementId))},dependencies:[W],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mat-snack-bar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mat-snack-bar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mat-snack-bar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mat-snack-bar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mat-snack-bar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mat-snack-bar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mat-snack-bar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-button-text-state-layer-color: currentColor;--mat-button-text-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return i})();function rt(){return new M}var ot=new j("mat-snack-bar-default-options",{providedIn:"root",factory:rt}),Ge=(()=>{class i{_live=p(Ae);_injector=p(P);_breakpointObserver=p(Fe);_parentSnackBar=p(i,{optional:!0,skipSelf:!0});_defaultConfig=p(ot);_animationsDisabled=G();_snackBarRefAtThisLevel=null;simpleSnackBarComponent=nt;snackBarContainerComponent=at;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,t){return this._attach(e,t)}openFromTemplate(e,t){return this._attach(e,t)}open(e,t="",n){let s=T(T({},this._defaultConfig),n);return s.data={message:e,action:t},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,t){let n=t&&t.viewContainerRef&&t.viewContainerRef.injector,s=P.create({parent:n||this._injector,providers:[{provide:M,useValue:t}]}),d=new Z(this.snackBarContainerComponent,t.viewContainerRef,s),h=e.attach(d);return h.instance.snackBarConfig=t,h.instance}_attach(e,t){let n=T(T(T({},new M),this._defaultConfig),t),s=this._createOverlay(n),d=this._attachSnackBarContainer(s,n),h=new D(d,s);if(e instanceof ne){let E=new Be(e,null,{$implicit:n.data,snackBarRef:h});h.instance=d.attachTemplatePortal(E)}else{let E=this._createInjector(n,h),Ze=new Z(e,void 0,E),We=d.attachComponentPortal(Ze);h.instance=We.instance}return this._breakpointObserver.observe(Me.HandsetPortrait).pipe(Y(s.detachments())).subscribe(E=>{s.overlayElement.classList.toggle(this.handsetCssClass,E.matches)}),n.announcementMessage&&d._onAnnounce.subscribe(()=>{this._live.announce(n.announcementMessage,n.politeness)}),this._animateSnackBar(h,n),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,t){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),t.announcementMessage&&this._live.clear()}),t.duration&&t.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(t.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let t=new Ve;t.direction=e.direction;let n=Oe(this._injector),s=e.direction==="rtl",d=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!s||e.horizontalPosition==="end"&&s,h=!d&&e.horizontalPosition!=="center";return d?n.left("0"):h?n.right("0"):n.centerHorizontally(),e.verticalPosition==="top"?n.top("0"):n.bottom("0"),t.positionStrategy=n,t.disableAnimations=this._animationsDisabled,Re(this._injector,t)}_createInjector(e,t){let n=e&&e.viewContainerRef&&e.viewContainerRef.injector;return P.create({parent:n||this._injector,providers:[{provide:D,useValue:t},{provide:qe,useValue:e.data}]})}static \u0275fac=function(t){return new(t||i)};static \u0275prov=ee({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function st(i,a){i&1&&(o(0,"div",1),w(1,"mat-spinner",10),r())}function lt(i,a){if(i&1){let e=A();o(0,"button",11),v("click",function(){f(e);let n=m();return _(n.showHistorias=!1)}),c(1,"Volver"),r(),w(2,"app-historia",12)}if(i&2){let e=m();l(2),u("historias",e.historiaCLinica)}}function ct(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function mt(i,a){if(i&1){let e=A();o(0,"div",2)(1,"div",13)(2,"label"),c(3,"Especialidad:"),r(),o(4,"mat-select",14),he("valueChange",function(n){f(e);let s=m();return ue(s.optionSelected,n)||(s.optionSelected=n),_(n)}),o(5,"mat-option",15),c(6,"todas"),r(),b(7,ct,2,2,"mat-option",16,le),r(),o(9,"button",17),v("click",function(){f(e);let n=m();return _(n.crearPDF())}),c(10,"Descargar"),r(),o(11,"button",17),v("click",function(){f(e);let n=m();return _(n.showDownloadOptions=!1)}),c(12,"Cancelar"),r()()()}if(i&2){let e=m();l(4),pe("value",e.optionSelected),l(3),g(e.especialidades),l(2),ce("pointer-events",e.optionSelected!=""?"auto":"none")}}function dt(i,a){if(i&1){let e=A();o(0,"button",17),v("click",function(){f(e);let n=m();return _(n.mostrarHistoriaClinica())}),c(1,"Ver Historia Cl\xEDnica"),r(),o(2,"button",17),v("click",function(){f(e);let n=m();return _(n.mostrarOpcionesDescarga())}),c(3,"Descargar Historia Cl\xEDnica"),r()}}function pt(i,a){if(i&1&&w(0,"img",5),i&2){let e=m();u("src",q(e.signInService.avatarURL2),L)}}function ut(i,a){if(i&1&&(o(0,"h2"),c(1),r()),i&2){let e=m();l(),I("Obra Social: ",e.signInService.usuario==null?null:e.signInService.usuario.obra_social)}}function ht(i,a){if(i&1&&(o(0,"h2",8),c(1),r()),i&2){let e=m();l(),I("Especialidades: ",e.signInService.especialidades)}}function ft(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=m().$implicit;u("value",e),l(),x(e)}}function _t(i,a){if(i&1&&C(0,ft,2,2,"mat-option",16),i&2){let e,t=a.$implicit,n=m(2);k(((e=n.perfilForm.get("lunes2"))==null?null:e.value)!=t?0:-1)}}function vt(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=m().$implicit;u("value",e),l(),x(e)}}function bt(i,a){if(i&1&&C(0,vt,2,2,"mat-option",16),i&2){let e,t=a.$implicit,n=m(2);k(((e=n.perfilForm.get("lunes1"))==null?null:e.value)!=t?0:-1)}}function gt(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function xt(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function Ct(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function kt(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function St(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function yt(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function wt(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function It(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function Et(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function Ft(i,a){if(i&1&&(o(0,"mat-option",16),c(1),r()),i&2){let e=a.$implicit;u("value",e),l(),x(e)}}function At(i,a){if(i&1){let e=A();o(0,"form",9)(1,"h1"),c(2,"Horarios"),r(),o(3,"div",18)(4,"h2",19),c(5,"Lunes"),r(),o(6,"mat-select",20),b(7,_t,1,1,null,null,S),r(),o(9,"mat-select",21),b(10,bt,1,1,null,null,S),r(),o(12,"button",22),v("click",function(){f(e);let n=m();return _(n.clearSelection(1))}),c(13,"Cancelar selecci\xF3n"),r()(),o(14,"div",18)(15,"h2",19),c(16,"Martes"),r(),o(17,"mat-select",23),b(18,gt,2,2,"mat-option",16,S),r(),o(20,"mat-select",24),b(21,xt,2,2,"mat-option",16,S),r(),o(23,"button",22),v("click",function(){f(e);let n=m();return _(n.clearSelection(2))}),c(24,"Cancelar selecci\xF3n"),r()(),o(25,"div",18)(26,"h2",19),c(27,"Mi\xE9rcoles"),r(),o(28,"mat-select",25),b(29,Ct,2,2,"mat-option",16,S),r(),o(31,"mat-select",26),b(32,kt,2,2,"mat-option",16,S),r(),o(34,"button",22),v("click",function(){f(e);let n=m();return _(n.clearSelection(3))}),c(35,"Cancelar selecci\xF3n"),r()(),o(36,"div",18)(37,"h2",19),c(38,"Jueves"),r(),o(39,"mat-select",27),b(40,St,2,2,"mat-option",16,S),r(),o(42,"mat-select",28),b(43,yt,2,2,"mat-option",16,S),r(),o(45,"button",22),v("click",function(){f(e);let n=m();return _(n.clearSelection(4))}),c(46,"Cancelar selecci\xF3n"),r()(),o(47,"div",18)(48,"h2",19),c(49,"Viernes"),r(),o(50,"mat-select",29),b(51,wt,2,2,"mat-option",16,S),r(),o(53,"mat-select",30),b(54,It,2,2,"mat-option",16,S),r(),o(56,"button",22),v("click",function(){f(e);let n=m();return _(n.clearSelection(5))}),c(57,"Cancelar selecci\xF3n"),r()(),o(58,"div",18)(59,"h2",19),c(60,"S\xE1bado"),r(),o(61,"mat-select",31),b(62,Et,2,2,"mat-option",16,S),r(),o(64,"mat-select",32),b(65,Ft,2,2,"mat-option",16,S),r(),o(67,"button",22),v("click",function(){f(e);let n=m();return _(n.clearSelection(6))}),c(68,"Cancelar selecci\xF3n"),r()(),o(69,"button",22),v("click",function(){f(e);let n=m();return _(n.cargarNuevosHorarios())}),c(70,"Aceptar"),r()()}if(i&2){let e=m();u("formGroup",e.perfilForm),l(7),g(e.horarios),l(3),g(e.horarios),l(8),g(e.horarios),l(3),g(e.horarios),l(8),g(e.horarios),l(3),g(e.horarios),l(8),g(e.horarios),l(3),g(e.horarios),l(8),g(e.horarios),l(3),g(e.horarios),l(8),g(e.horarioSabado),l(3),g(e.horarioSabado)}}var Ue=class i{optionSelected="";showDownloadOptions=!1;loading=!1;historiaCLinica=[];showHistorias=!1;snackBar=p(Ge);horariosSubscription;horariosCargados;signInService=p(ve);supabaseService=p(_e);especialidades=[];horarios=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30"];horarioSabado=["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30"];perfilForm=new xe({lunes1:new y,martes1:new y,miercoles1:new y,jueves1:new y,viernes1:new y,sabado1:new y,lunes2:new y,martes2:new y,miercoles2:new y,jueves2:new y,viernes2:new y,sabado2:new y});ngOnInit(){this.horariosSubscription=this.signInService.horarioEmitter.subscribe({next:a=>{if(a!=null){for(let e=0;e<a.length;e++)switch(a[e].dia){case"lunes":this.perfilForm.controls.lunes1.setValue(a[e].hora_inicial),this.perfilForm.controls.lunes2.setValue(a[e].hora_final);break;case"martes":this.perfilForm.controls.martes1.setValue(a[e].hora_inicial),this.perfilForm.controls.martes2.setValue(a[e].hora_final);break;case"mi\xE9rcoles":this.perfilForm.controls.miercoles1.setValue(a[e].hora_inicial),this.perfilForm.controls.miercoles2.setValue(a[e].hora_final);break;case"jueves":this.perfilForm.controls.jueves1.setValue(a[e].hora_inicial),this.perfilForm.controls.jueves2.setValue(a[e].hora_final);break;case"viernes":this.perfilForm.controls.viernes1.setValue(a[e].hora_inicial),this.perfilForm.controls.viernes2.setValue(a[e].hora_final);break;case"s\xE1bado":this.perfilForm.controls.sabado1.setValue(a[e].hora_inicial),this.perfilForm.controls.sabado2.setValue(a[e].hora_final);break}this.perfilForm.updateValueAndValidity()}}})}ngOnDestroy(){this.horariosSubscription?.unsubscribe()}mostrarHistoriaClinica(){this.loading=!0,this.getHistoriaClinica().then(()=>{this.showHistorias=!0,this.loading=!1})}mostrarOpcionesDescarga(){this.historiaCLinica.length==0?this.getHistoriaClinica().then(()=>{this.showDownloadOptions=!0}):this.showDownloadOptions=!0}getHistoriaClinica(){return V(this,null,function*(){if(this.historiaCLinica.length==0)return this.loading=!0,this.cargarHistoriaCLinica().then(()=>{this.agregarDatosDinamicos().then(()=>{this.loading=!1})})})}cargarHistoriaCLinica(){return V(this,null,function*(){return this.loading=!0,this.supabaseService.supabase.from("historia").select().eq("email_paciente",this.signInService.usuario?.email).then(({data:a,error:e})=>{if(e)console.error(e.message,e.code);else{for(let t=0;t<a.length;t++)this.especialidades.find(n=>n==a[t].especialidad)==null&&this.especialidades.push(a[t].especialidad);this.historiaCLinica=a}})})}crearPDF(){this.historiaCLinica.length!=0?(this.loading=!0,this.getHistoriaClinica().then(()=>{var a=new ze,e=150,t=Q.now().setZone("America/Argentina/Buenos_Aires").toFormat("dd/MM/yyyy HH:mm"),n=0;a.text("HISTORIA CL\xCDNICA",80,10),a.text(`Fecha de emisi\xF3n: ${t}`,17,15),a.addImage("hospital.png","PNG",60,20,100,100);for(let s=0;s<this.historiaCLinica.length;s++){let d=Q.fromISO(this.historiaCLinica[s].fecha).toFormat("dd/MM/yyyy HH:mm");if(this.historiaCLinica[s].especialidad==this.optionSelected||this.optionSelected=="todas"){if(n>0&&(a.addPage(),e=150,a.text("HISTORIA CL\xCDNICA",80,10),a.text(`Fecha de emisi\xF3n: ${t}`,17,15),a.addImage("hospital.png","PNG",60,20,100,100)),a.text([d,`Especialidad: ${this.historiaCLinica[s].especialidad}`,`Altura: ${this.historiaCLinica[s].altura}`,`Peso: ${this.historiaCLinica[s].peso}`,`Temperatura: ${this.historiaCLinica[s].temperatura}`,`Presi\xF3n: ${this.historiaCLinica[s].presion}`],10,e),this.historiaCLinica[s].datosDinamicos!=null){e+=32;for(let h=0;h<this.historiaCLinica[s].datosDinamicos.length;h++){e+=7;let E=`${this.historiaCLinica[s].datosDinamicos[h].clave}: ${this.historiaCLinica[s].datosDinamicos[h].valor}`;a.text(E,10,e)}}n+=1,e+=50}}a.save(`${this.signInService.usuario?.firstname}-${this.signInService.usuario?.surname}`),this.loading=!1})):alert("No existe historia cl\xEDnica")}agregarDatosDinamicos(){return V(this,null,function*(){if(this.historiaCLinica.length>0)return this.supabaseService.supabase.from("datos_dinamicos").select().eq("email_paciente",this.signInService.usuario?.email).then(({data:a,error:e})=>{if(e)console.error(e.message,e.code);else for(let t=0;t<a.length;t++){let n=this.historiaCLinica.findIndex(s=>s.fecha==a[t].fecha);n>=0&&(this.historiaCLinica[n].datosDinamicos==null&&(this.historiaCLinica[n].datosDinamicos=[]),this.historiaCLinica[n].datosDinamicos.push(a[t]))}})})}cargarNuevosHorarios(){this.perfilForm.get("lunes1")?.value!=null&&this.perfilForm.get("lunes2")?.value!=null&&this.supabaseService.insertHorarios(this.signInService.usuario?.email,"lunes",this.perfilForm.get("lunes1")?.value,this.perfilForm.get("lunes2")?.value).then(()=>{this.openSnackBar()}),this.perfilForm.get("martes1")?.value!=null&&this.perfilForm.get("martes2")?.value!=null&&this.supabaseService.insertHorarios(this.signInService.usuario?.email,"martes",this.perfilForm.get("martes1")?.value,this.perfilForm.get("martes2")?.value).then(()=>{this.openSnackBar()}),this.perfilForm.get("miercoles1")?.value!=null&&this.perfilForm.get("miercoles2")?.value!=null&&this.supabaseService.insertHorarios(this.signInService.usuario?.email,"mi\xE9rcoles",this.perfilForm.get("miercoles1")?.value,this.perfilForm.get("miercoles2")?.value).then(()=>{this.openSnackBar()}),this.perfilForm.get("jueves1")?.value!=null&&this.perfilForm.get("jueves2")?.value!=null&&this.supabaseService.insertHorarios(this.signInService.usuario?.email,"jueves",this.perfilForm.get("jueves1")?.value,this.perfilForm.get("jueves2")?.value).then(()=>{this.openSnackBar()}),this.perfilForm.get("viernes1")?.value!=null&&this.perfilForm.get("viernes2")?.value!=null&&this.supabaseService.insertHorarios(this.signInService.usuario?.email,"viernes",this.perfilForm.get("viernes1")?.value,this.perfilForm.get("viernes2")?.value).then(()=>{this.openSnackBar()}),this.perfilForm.get("sabado1")?.value!=null&&this.perfilForm.get("sabado2")?.value!=null&&this.supabaseService.insertHorarios(this.signInService.usuario?.email,"s\xE1bado",this.perfilForm.get("sabado1")?.value,this.perfilForm.get("sabado2")?.value).then(()=>{this.openSnackBar()})}clearSelection(a){switch(a){case 1:this.perfilForm.controls.lunes1.setValue(null),this.perfilForm.controls.lunes2.setValue(null),this.perfilForm.updateValueAndValidity();break;case 2:this.perfilForm.controls.martes1.setValue(null),this.perfilForm.controls.martes2.setValue(null),this.perfilForm.updateValueAndValidity();break;case 3:this.perfilForm.controls.miercoles1.setValue(null),this.perfilForm.controls.miercoles2.setValue(null),this.perfilForm.updateValueAndValidity();break;case 4:this.perfilForm.controls.jueves1.setValue(null),this.perfilForm.controls.jueves2.setValue(null),this.perfilForm.updateValueAndValidity();break;case 5:this.perfilForm.controls.viernes1.setValue(null),this.perfilForm.controls.viernes2.setValue(null),this.perfilForm.updateValueAndValidity();break;case 6:this.perfilForm.controls.sabado1.setValue(null),this.perfilForm.controls.sabado2.setValue(null),this.perfilForm.updateValueAndValidity();break}}openSnackBar(){this.snackBar.open("Horarios Cargados","Aceptar")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=B({type:i,selectors:[["app-perfil"]],decls:23,vars:15,consts:[[1,"container","animate__animated","animate__fadeInTopRight"],[1,"spinner"],[1,"historias"],[1,"info"],["id","avatar-section"],[1,"avatar",3,"src"],["id","nombre"],["id","datos"],[1,"h2-esp"],[1,"turnos",3,"formGroup"],["mode","indeterminate"],["id","volver","mat-flat-button","",3,"click"],[1,"historias",3,"historias"],[1,"container-opt"],["placeholder","Especialidad",1,"mat-select-custom",3,"valueChange","value"],["value","todas"],[3,"value"],["mat-flat-button","",1,"historial-btn",3,"click"],[1,"row"],[1,"day"],["placeholder","hora inicial","formControlName","lunes1"],["placeholder","hora final","formControlName","lunes2"],["mat-flat-button","",3,"click"],["placeholder","hora inicial","formControlName","martes1"],["placeholder","hora final","formControlName","martes2"],["placeholder","hora inicial","formControlName","miercoles1"],["placeholder","hora final","formControlName","miercoles2"],["placeholder","hora inicial","formControlName","jueves1"],["placeholder","hora final","formControlName","jueves2"],["placeholder","hora inicial","formControlName","viernes1"],["placeholder","hora final","formControlName","viernes2"],["placeholder","hora inicial","formControlName","sabado1"],["placeholder","hora final","formControlName","sabado2"]],template:function(e,t){e&1&&(w(0,"app-header"),o(1,"div",0),C(2,st,2,0,"div",1),C(3,lt,3,1),C(4,mt,13,3,"div",2),o(5,"div",3),C(6,dt,4,0),o(7,"div",4),w(8,"img",5),C(9,pt,1,2,"img",5),r(),o(10,"h1",6),c(11),r(),o(12,"div",7)(13,"h2"),c(14),r(),o(15,"h2"),c(16),r(),o(17,"h2"),c(18),r(),C(19,ut,2,1,"h2"),C(20,ht,2,1,"h2",8),w(21,"h2"),r()(),C(22,At,71,1,"form",9),r()),e&2&&(l(2),k(t.loading?2:-1),l(),k(t.showHistorias?3:-1),l(),k(t.showDownloadOptions?4:-1),l(2),k(t.signInService.userRole=="paciente"?6:-1),l(2),u("src",q(t.signInService.avatarURL1),L),l(),k(t.signInService.userRole=="paciente"?9:-1),l(2),de("",t.signInService.usuario==null?null:t.signInService.usuario.firstname," ",t.signInService.usuario==null?null:t.signInService.usuario.surname),l(3),I("Email: ",t.signInService.usuario==null?null:t.signInService.usuario.email),l(2),I("DNI: ",t.signInService.usuario==null?null:t.signInService.usuario.dni),l(2),I("Edad: ",t.signInService.usuario==null?null:t.signInService.usuario.age),l(),k(t.signInService.userRole=="paciente"?19:-1),l(),k(t.signInService.userRole=="especialista"?20:-1),l(2),k(t.signInService.userRole=="especialista"?22:-1))},dependencies:[Ie,U,R,we,Ce,be,ge,ke,Se,ye,Ne,He,Le,je,Pe,$e],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;justify-items:center;width:100%;height:100%}.info[_ngcontent-%COMP%], .turnos[_ngcontent-%COMP%]{background-color:#ffffffb3}.info[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:50%;height:100%;padding-top:2vh}.turnos[_ngcontent-%COMP%]{width:40%;height:100%;padding-top:2vh;align-items:center;justify-content:center;text-align:center}.menu[_ngcontent-%COMP%]{width:20%;padding-top:2vh;align-items:center;justify-content:center;text-align:center}.avatar[_ngcontent-%COMP%]{width:30vh;aspect-ratio:auto;align-self:center}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:baseline;padding-right:1vw}.day[_ngcontent-%COMP%]{min-width:9rem}#avatar-section[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;justify-content:space-evenly}#datos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}#nombre[_ngcontent-%COMP%]{align-self:center}.h2-esp[_ngcontent-%COMP%]{max-width:28rem;text-align:center}.historias[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:100%;height:100%;z-index:100;background-color:#f7f6f6e6;overflow-y:auto}#volver[_ngcontent-%COMP%]{z-index:110;position:fixed;top:15%;left:50%;transform:translate(-15%,-50%)}.historial-btn[_ngcontent-%COMP%]{margin-top:1vh;margin-bottom:1vh;margin-left:2vw;margin-right:2vw}.mat-select-custom[_ngcontent-%COMP%]{width:10rem;background-color:#005cbb;color:#fff;text-align:center}.mat-select-custom[_ngcontent-%COMP%]::placeholder{color:#fff;opacity:1}.container-opt[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;justify-items:center;align-content:center;width:100%;height:100%;position:fixed}"]})};export{Ue as Perfil};
